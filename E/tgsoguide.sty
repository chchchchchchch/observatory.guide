
  \usepackage[utf8]{inputenc}
  \usepackage[T1]{fontenc}
 %\usepackage{babel}
  
  \usepackage[defaultlines=5,all]{nowidow}
  \newcommand{\setwidowstandard}{\setnowidow[5]\setnoclub[5]}
  \setwidowstandard

  \usepackage[hyperfootnotes=false,draft]{hyperref}
  \usepackage[color=yellow,opacity=0.5,open=true]{pdfcomment}
  \usepackage{geometry}
  \usepackage{graphicx}
  \usepackage{pdfpages}
  \usepackage{seqsplit}
  \usepackage[hang,multiple]{footmisc}
  \usepackage{everypage}
  \usepackage{setspace}
  \usepackage{relsize}
  \usepackage{scalefnt}
  \usepackage{sectsty}
  \usepackage{titlesec}
  \usepackage[activate={true,nocompatibility},
              final,tracking=true,kerning=true,
              spacing=true,factor=1100,
              stretch=10,shrink=10]{microtype}
  % https://groups.google.com/forum/#!topic/pandoc-discuss/_tssxEsT0eg
  \usepackage{enumerate}
  \usepackage[shortlabels]{enumitem}
  \usepackage{afterpage}
  \usepackage{etoolbox}
  \usepackage{marginnote}
  \usepackage{tocloft}
  \usepackage{csquotes}
  \usepackage{fancyhdr}
  \usepackage{fancyvrb}
  \usepackage{alltt}      % USED BY QUAVERBATIM
  \usepackage{refcount}   % USED BY \imgshift
  \usepackage{float}
  \usepackage{wrapfig}
  \usepackage{pifont}
  \usepackage{ragged2e}
  \usepackage{framed}
  \usepackage{multicol}
  \usepackage{needspace}  % USEDY BY listing
  \usepackage{changepage}
  \usepackage[natbib=true,hyperref=false,
              style=musuos,backend=biber]{biblatex}
  \usepackage{bibentry}

  \newcounter{floats}  % COUNT FLOATS TO ADD LABELS
  \newcounter{pagenow} % MOSTLY EMPTY/USED TO STORE

% --------------------------------------------------------------------------- %
%  F O R M A T
% --------------------------------------------------------------------------- %
  % A6
  \setlength\textheight{.81\paperheight}
  \setlength\textwidth{.72\paperwidth}
  \setlength\topmargin{-.16\paperheight}
  \setlength\oddsidemargin{-.05\paperwidth}
  \setlength\evensidemargin{-.13\paperwidth}

% --------------------------------------------------------------------------- %
%  F O N T S
% --------------------------------------------------------------------------- %
  \newcommand{\ttstandard}{ipm} % https://fontain.org/fira-code
  \newcommand{\rmstandard}{mar} % https://fontain.org/arimo
  \newcommand{\sfstandard}{mar}
  \newcommand{\ttzwo}{iad}

   \newcommand{\embody}{}
 % CHANGE \emph FOR BODYTEXT
  \DeclareTextFontCommand{\emph}{%
     \ifbodytext%
     \embody
     \else\em %
     \fi%
   }

  \renewcommand*{\ttdefault}{\ttstandard}\selectfont
  \renewcommand*{\rmdefault}{\rmstandard}\selectfont
  \renewcommand*{\sfdefault}{\sfstandard}\selectfont
  \renewcommand{\embody}{\it}

% --------------------------------------------------------------------------- %
%  B A S I C
% --------------------------------------------------------------------------- %
  \setlength\marginparwidth{1.0cm}
 %\setlength\marginparsep{5pt} % 6pt
  \setlength\marginparsep{2pt} % 6pt
 % http://www.weinelt.de/latex/marginparpush.html
  \setlength{\marginparpush}{2\baselineskip}
  \reversemarginpar

  \parindent=0pt
 %\setlength{\parskip}{5pt plus 5pt minus 5pt}
  \setlength{\parskip}{8pt plus 5pt minus 5pt}
  \setstretch{1.1} % LINEHEIGHT % (P:setspace)

  \renewcommand*{\chapterheadstartvskip}{\vspace{0pt}}
  \renewcommand*{\chapterheadendvskip}{\vspace{0pt}}
  \titlespacing\section{0pt}{20pt plus 30pt minus 15pt}{2pt plus 3pt minus 0pt}

  \newcommand{\http}[1]{{\fontfamily{\ttzwo}\selectfont\seqsplit{#1}}} %

  % https://groups.google.com/forum/#!topic/pandoc-discuss/O-N0H1eBnVU
  %\renewcommand{\href}[2]{#2\footnote{\http{#1}}}
  %\renewcommand{\href}[2]{%
  % \iffootnote #2 (\http{#1})
  % \else #2\footnote{\http{#1}} \fi
  %}
  %\renewcommand{\href}[2]{%
  % \iffootnote #2 (\http{#1})
  % \else #2\footnote{\http{#1}} \fi
  %}
   \renewcommand{\href}[2]{%
    \iffootnote #2
    \hspace{.5em}\symarrowright\hspace{2.5em}~#1
    \else #2\footnote{#1} \fi
   }

  % http://tex.stackexchange.com/questions/167823/
  % -> multiply-define-a-label-on-purpose
  \makeatletter
  \def\@newl@bel#1#2#3{{%
    \@ifundefined{#1@#2}%
      {\def\tmp{#3}}%
      {%
  \edef\tmp{%
    {\expandafter\expandafter\expandafter\@firstoftwo\csname#1@#2\endcsname,
     \@firstoftwo#3}%
    {\expandafter\expandafter\expandafter\@secondoftwo\csname#1@#2\endcsname,
     \@secondoftwo#3}%
  }}%
      \expandafter\xdef\csname#1@#2\endcsname{\tmp}%
  }}
  \def\@testdef #1#2#3{}
  \makeatother

  % Ohne die folgenden drei Zeilen funktioniert es nur fast:
  \newcommand*\origfootnoterule{}
  \let\origfootnoterule\footnoterule
  \renewcommand*{\footnoterule}{\vskip 0pt plus .01fil\origfootnoterule}

  % PREVENT HYPHENATION FOR WORDS STARTING WITH UPPERCASE
  \uchyph=0
  % PREVENT HYPHENATION OVER PAGE BREAK
  \brokenpenalty10000\relax

  % https://tex.stackexchange.com/questions/83440/
  % -> inputenc-error-unicode-char-u8-not-set-up-for-use-with-latex
  \DeclareUnicodeCharacter{00A0}{~}
  \DeclareUnicodeCharacter{00AD}{\allowbreak}
  \DeclareUnicodeCharacter{2192}{\hspace{-.5em}%
                                 \grafikinline{\iconchararrowright}
                                {\hspace{2em}}}

  \newcommand{\symrect}{\grafikinline{\iconcharrect}{}}
  \newcommand{\symrhombus}{\grafikinline{\iconcharrhombus}{}}
  \newcommand{\symtrapez}{\grafikinline{\iconchartrapez}{}}
  \newcommand{\symarrowright}{\grafikinline{\iconchararrowright}{}}
  \newcommand{\symarrowleft}{\grafikinline{\iconchararrowleft}{}}

% --------------------------------------------------------------------------- %
%  P A G E   H E A D E R /  F O O T E R
% --------------------------------------------------------------------------- %
  % http://texblog.org/2007/11/07/headerfooter-in-latex-with-fancyhdr
  \pagestyle{fancy}
  \fancyhead{} % CLEAR DEFAULT
  \fancyfoot{} % CLEAR DEFAULT
  \fancyfoot[LO]{\vspace{-5\baselineskip}%
                 \hspace{-1.6em}%
                 {\scriptsize\thepage}}
  \fancyfoot[RE]{\vspace{-5\baselineskip} {\scriptsize\thepage}}

  % http://tex.stackexchange.com/questions/114956/
  % -> how-to-insert-footer-in-first-pages-of-chapter 
  \fancypagestyle{plain}{%
  \fancyfoot[LO]{\vspace{-5\baselineskip}%
                 \hspace{-1.6em}%
                 {\scriptsize\thepage}}
  \fancyfoot[RE]{\vspace{-5\baselineskip} {\scriptsize\thepage}}
  }

  \renewcommand{\headrulewidth}{0pt}

% --------------------------------------------------------------------------- %
%  T A B L E   O F   C O N T E N T S
% --------------------------------------------------------------------------- %
  \newcounter{toccheck}\setcounter{toccheck}{1}
  \newcommand{\tocitem}[3]{ %
  \ifnum\numexpr#1 < 2
   \setcounter{toccheck}{1}%

   \justifying\setlength{\parindent}{0pt}
  {\small\textbf{\pageref{#3}}~~%
   \textbf{#2}~::~}%                             % 1 = GROUPING
   \else
    \ifnum\numexpr#1 < 3
     \setcounter{toccheck}{1}
      {\small#2~~\textbf{\pageref{#3}}}          % 2 = METHOD
    \else
     \ifnum\numexpr#1 < 4
      \setcounter{toccheck}{1}
      {\small{\fontfamily{iad}\selectfont%
       #2~}\textbf{\pageref{#3}}}                % 3 = ATTACHMENT
     \else
       \ifnum\value{toccheck} < 2

       \raggedright
      {\mbox{{\small#2~~\textbf{\pageref{#3}}}}} % 4 = INTRO/COLOPHON/=STANDARDS
       \else
      {\mbox{{\small#2~~\textbf{\pageref{#3}}}}} % 4 = INTRO/COLOPHON/=STANDARDS
       \fi
      \stepcounter{toccheck}  % INCREASE COUNTER ..
     \fi
    \fi
  \fi
  }

  \newenvironment{tocpage}
  {\pagebreak[4] %
   \cleartoleft %
   \pagecolor{black}
   \vspace*{-1cm}
   \thispagestyle{empty}
   \color{white}
   \enlargethispage{1cm}
   \uchyph=1
   \setstretch{.9}
  }
  {\pagebreak[4]
   \newpage
   \nopagecolor{}
   \uchyph=0
  }
% --------------------------------------------------------------------------- % 
%  B I B L I O G R A P H Y 
% --------------------------------------------------------------------------- %  
  \renewcommand*{\bibfont}{\footnotesize}
  \defbibheading{bibliography}[\bibname]{% 
   \newpage\subsection{#1}%
    \markboth{#1}{#1}}

 %\renewcommand{\bibsetup}{\setlength\textheight{.8\paperheight}}

 %\usepackage{url}
 % https://tex.stackexchange.com/questions/134191/
 % -> line-breaks-of-long-urls-in-biblatex-bibliography
 %\setcounter{biburllcpenalty}{7000}
 %\setcounter{biburlucpenalty}{8000}

 % https://tex.stackexchange.com/questions/184769/
  \DeclareFieldFormat{url}{\http{#1}}

  \renewcommand{\bibsetup}{\uchyph=1}

% --------------------------------------------------------------------------- % 
%  I N D E X I N G
% --------------------------------------------------------------------------- %  
  \usepackage{fancyhdr}
  \usepackage{fancyvrb}
  \usepackage{makeidx}
  \makeindex

  \newcommand{\insertindex}[1]{
  %\let\CHAPTERSAVE\chapter
  %\renewcommand\chapter[1]{\label{#1}}
  \renewcommand{\indexname}{\textbf{Keyword Index}\label{#1}}
  \printindex
  %\renewcommand\chapter[1]{\CHAPTERSAVE{#1}}
  }

  % https://tex.stackexchange.com/questions/23870/
  % -> index-shouldnt-start-new-page
  \makeatletter
  \renewenvironment{theindex}
                 {\bigskip\indexname%
                  \begin{multicols}{2}
                  \@mkboth{\MakeUppercase\indexname}%
                          {\MakeUppercase\indexname}%
                  \thispagestyle{plain}\parindent\z@
                  \parskip\z@ \@plus .3\p@\relax
                  \columnseprule \z@
                  \columnsep 35\p@
                  \let\item\@idxitem}
                 {\end{multicols}}
  \makeatother


% --------------------------------------------------------------------------- % 
%  H E A D L I N E S
% --------------------------------------------------------------------------- % 
  \chapterfont{\large\setstretch{1.0}}
  \sectionfont{\relscale{0.9}\setstretch{0.9}}
  \subsectionfont{\relscale{0.9}}

  \let\Chapter\chapter
  \renewcommand\chapter[1]{\Chapter*{#1}}
  \let\Section\section
  \renewcommand\section[1]{\Section*{#1}}
  \let\Subsection\subsection
 %\renewcommand\subsection[1]{\Subsection*{#1}}
  \renewcommand\subsection[1]{\Subsection*{#1}\vspace{-1\medskipamount}}
  \let\Subsubsection\subsubsection
 %\renewcommand\subsubsection[1]{\Subsubsection*{#1}}
  \renewcommand\subsubsection[1]{\Subsubsection*{#1}\vspace{-1\medskipamount}}

  % DON'T START CHAPTER ON NEW PAGE AUTOMATICALLY
  % \makeatletter
  % \patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{}{}{}
  % \makeatother

% --------------------------------------------------------------------------- % 
%  F O O T N O T E S  
% --------------------------------------------------------------------------- %  
  \renewcommand{\footnotelayout}{\raggedright} 
 
  % SMALLER DISTANCE FOOTNOTENUMBER AND TEXT 
  \let\oldfootnote\footnote 
  % \, = small non-breaking space 
  \renewcommand\footnote[1]{\,\oldfootnote{#1}} 
  \setlength{\footnotemargin}{1em} 
  \setlength{\footskip}{25mm} 
 % ABSTAND TRENNLINIE FUSSNOTEN 
   \renewcommand{\footnoterule}{ 
    \noindent 
     \rule{\textwidth}{0.5pt}{ 
      \vspace{-.2\baselineskip}
  }} 

  % https://tex.stackexchange.com/questions/397120/
  % -> adding-space-between-text-and-footnote-rule
  \setlength{\skip\footins}{2em plus 3em minus 1em}

 % https://tex.stackexchange.com/questions/312793/
 % -> toggle-presence-of-footnote-rule
  \newif\iffootnoterule
  
  \makeatletter
  \AtBeginDocument{%
  \let\latex@@footnoterule\footnoterule
  
  \renewcommand\footnoterule{%
    \iffootnoterule
    \latex@@footnoterule%
    \else
    \advance\skip\footins 4\p@\@plus2\p@\relax%
    \fi
  }
  }
  \makeatother
  \footnoteruletrue

% --------------------------------------------------------------------------- %
%  Q U O T E
% --------------------------------------------------------------------------- %
  \makeatletter
  \renewenvironment{quote}
                {\list{}{\listparindent=0pt%whatever you need
                         \itemindent    \listparindent
                         \leftmargin=5pt%  whatever you need
                         \rightmargin=10pt%whatever you need
                         \topsep=2pt%%%%%  whatever you need
                        %\parsep        \z@ \@plus\p@
                         \sl \raggedright
                        }%
                 \item\relax}
                {\endlist}
  \makeatother

  % \newcommand{\AtEndQuote}{}%
  % \AtEndEnvironment{quote}{\AtEndQuote}
  % \newcommand{\AtBeginQuote}{}%
  % \AtBeginEnvironment{quote}{\AtBeginQuote}

  \newenvironment{introquote}{%
   \begin{flushleft}
   \grafikinline{\iconintroquote}{\hspace{-.3em}}%
     \fontfamily{iad}\selectfont
  }{\end{flushleft}\smallskip}

% \newenvironment{descriptorquote}{%
%  \color{red}
%   \em
% }{}

 % https://tex.stackexchange.com/questions/163100/
 % -> correcting-removing-adjustwidths-vertical-spacing
  \makeatletter
  \newenvironment{descriptorquote}{%
   \vspace*{-2.5\parskip}
    \begin{list}{}{%
      \partopsep\z@%
      \topsep\z@%
     %\listparindent\parindent%
     %\parsep\parskip%
      \listparindent\z@%
      \parsep\z@%
      \setlength{\leftmargin}{1em}%
      \setlength{\rightmargin}{1em}%
      }\em\raggedright%
       \item[]}
    {\end{list}\vfill}
  \makeatother


% --------------------------------------------------------------------------- %
%  L I S T S
% --------------------------------------------------------------------------- %

  \setitemize[0]{leftmargin=8pt,rightmargin=4pt} % (P:enumitem)
  \setlist[enumerate]{leftmargin=1.2em,topsep=0pt}
  \setlist{noitemsep,topsep=0pt,partopsep=0pt} % (P:enumitem)

  % PREVENT PAGE BREAK WITHIN LISTS
  %  \let\ITEMIZE\itemize
  %  \let\ENDITEMIZE\enditemize
  %  \renewenvironment{itemize}{\begin{samepage}\ITEMIZE}
  %                            {\ENDITEMIZE\end{samepage}}

 % WRAP (FIRST INSIDE dblock) ENUMERATE ENVIRONENT TO ADJUST SPACING
   \newenvironment{descriptorenum}[1][]{%
   \vspace{-1.5\baselineskip}
   \begin{enumerate}[1.]
   }{\end{enumerate}\vspace{.5\baselineskip}
   }

   \newenvironment{descriptoritemize}{%
   \vspace{-1.5\baselineskip}
   \begin{itemize}
   }{\end{itemize}\vspace{.5\baselineskip}
  }

% --------------------------------------------------------------------------- %
%  C O D E   E N V I R O N M E N T S
% --------------------------------------------------------------------------- %

  \renewcommand{\kwa}{\bfseries}
  \renewcommand{\kwb}{\kwa}
  \renewcommand{\kwc}{}

  \lstdefinestyle{inline}{basicstyle=\ttfamily}

  \newcommand{\lstsetCode}[1]{%
  \lstset{ %
    basicstyle=\fontencoding{T1}\linespread{#1}
               \fontfamily{ipm}\selectfont%
               \small,
    commentstyle=\scalefont{1}, 
    keywordstyle = \kwa, 
    keywordstyle = [2]{\kwb}, 
    keywordstyle = [3]{\kwc}, 
    stringstyle=\scalefont{1}, 
    showspaces=false, 
    showtabs=false, 
    columns=fixed, 
    numbers=none, 
    frame=none, 
    numberstyle=\tiny, 
    breaklines=flase, 
    showstringspaces=false, 
    aboveskip=1em, 
    xleftmargin=1em, 
    upquote=true, 
  % https://tex.stackexchange.com/a/24532
    inputencoding=utf8,
    extendedchars=true,
    literate={▭}{{\symrect}}1 
             {♢ }{{\symrhombus}}1 
             {⏢}{{\symtrapez}}1 
             {→}{{\symarrowright}}1,
    escapechar=° 
   }\renewcommand{\emptylinelst}{\vspace{-1\baselineskip}
                                \vfill\pagebreak[0]}
  }

  \newcommand{\lstsetQuaverbatim}{%
  \lstset{ %
    basicstyle=\fontencoding{T1}\linespread{1.5}
               \fontfamily{iad}\selectfont\footnotesize, 
    breaklines=true,
    breakautoindent=false,
    breakindent=1em,
    aboveskip=1em,xleftmargin=0cm,
    showspaces=false,showtabs=false,columns=fixed,
    numbers=none,frame=none,showstringspaces=false,
    upquote=true,escapechar=°}
   \renewcommand{\emptylinelst}{\vspace{1\baselineskip}}
   }

  \newcommand{\lstReset}{\lstset{language={}}
                         \renewcommand{\emptylinelst}{\vspace{.5\baselineskip}}}

  \newcommand{\lstsetBash}{\lstset{language=Bash+,
               morekeywords = [2]{write2src,getFile,
                                  mkqr,getVerbatim},
               basicstyle=\fontencoding{T1}\linespread{1.5}
                          \fontfamily{ipm}\selectfont\scriptsize}
              }
  \newcommand{\lstsetPython}{\lstset{language=Python,
                                     basicstyle=\fontencoding{T1}\linespread{1.5}
                                                 \fontfamily{ipm}\selectfont\footnotesize}
                              \renewcommand{\emptylinelst}{%
                               \vspace{-.4\baselineskip}}
  }
  \newcommand{\lstsetMake}{\lstset{language=Make,
                                   basicstyle=\fontencoding{T1}\linespread{1.5}
                                              \fontfamily{ipm}\selectfont\footnotesize}
  }
  \lstnewenvironment{plain}[1]{\lstsetCode{1}\lstReset
                               \ifnum\numexpr#1 < 5
                              %\color{green}
                               \else
                              %\color{red}
                               \fi}
                              {}
  \lstnewenvironment{smallcode}[1]{\lstsetCode{1}\lstReset
                                   \lstset{basicstyle=\fontencoding{T1}
                                   \fontfamily{ipm}\selectfont%
                                   \scriptsize}}
                              {}
  \lstnewenvironment{bashcode}[1]{\lstsetCode{1.5}\lstsetBash}{}
  \lstnewenvironment{pythoncode}[1]{\lstsetCode{1}\lstsetPython}{}
  \lstnewenvironment{makecode}[1]{\lstsetCode{1}\lstsetMake}{}
  \lstnewenvironment{quaverbatim}[1]{\lstsetQuaverbatim}{}

  \newcommand{\lstinputplain}[1]{\lstsetCode{1}\lstReset %
                                  \smallskip
                                   \lstinputlisting{#1}
                                    \smallskip}
  \newcommand{\lstinputbashcode}[1]{\lstsetCode{1.5}\lstsetBash %
                                    \lstinputlisting{#1}}
  \newcommand{\lstinputpythoncode}[1]{\lstsetCode{1}\lstsetPython %
                                       \lstinputlisting{#1}}
  \newcommand{\lstinputquaverbatim}[1]{\lstsetQuaverbatim %
                                       \lstinputlisting{#1}}
  \newcommand{\lstinputsmallcode}[1]{\lstsetCode{1}\lstReset
                                     \lstset{basicstyle=\fontencoding{T1}
                                     \fontfamily{ipm}\selectfont%
                                     \scriptsize}
                                     \lstinputlisting{#1}}
  \newcommand{\lstinputmakecode}[1]{\lstsetCode{1.5}\lstsetMake %
                                    \lstinputlisting{#1}}


% --------------------------------------------------------------------------- %
%  P A G E   C O M M A N D S
% --------------------------------------------------------------------------- %
  \newcommand{\emptypage}{
  % https://tex.stackexchange.com/questions/36880/
  % -> insert-a-blank-page-after-current-page
    \null
    \thispagestyle{empty}%
    \newpage
  }
% --------------------------------------------------------------------------- %
  \newcommand{\blackpage}{
    \null
    \thispagestyle{empty}%
    \pagecolor{black}
    \newpage
    \nopagecolor
  }
% --------------------------------------------------------------------------- %
  \newcommand\cleartoleft{%
  \clearpage
  \ifthispageodd{\emptypage}{}
  }
% --------------------------------------------------------------------------- %
  \newcommand\cleartoleftblack{%
  \clearpage
  \ifthispageodd{\blackpage}{}
  }
% --------------------------------------------------------------------------- %
  \newcommand\cleartoright{%
  \clearpage
  % http://tex.stackexchange.com/questions/6143/
  % -> if-then-else-for-odd-page-even-page
  \ifthispageodd{}{\emptypage}
  }

% --------------------------------------------------------------------------- %
%  G R A P H I C S
% --------------------------------------------------------------------------- %
   \newcommand\pdfpage[3]{%
   \includepdf[pagecommand={\thispagestyle{fancy}},%
               scale=1,pages=#2#3]{#1}
  }
% --------------------------------------------------------------------------- %
   \newcommand\pdfpageplus[4]{%
   \includepdf[pagecommand={\thispagestyle{fancy}#4},%
               scale=1,pages=#2#3]{#1}
  }
% --------------------------------------------------------------------------- %
  \newcommand\pdflicense[2]{%
   \includepdf[pagecommand={\thispagestyle{fancy}#2},%
               scale=.9,offset=10 0,pages=-]{#1}
  }
% --------------------------------------------------------------------------- %
  \newcommand{\grafikinline}[2]{%
     % http://www.weinelt.de/latex/raisebox.html
     \raisebox{-14\baselineskip}[\baselineskip]   % 
                                [-1\baselineskip] % ??
     {\hspace{-1.3\marginparwidth} %
     \includegraphics[height=17\baselineskip]{#1}\hspace{-7.3em}#2} %
  }
% --------------------------------------------------------------------------- % 
  \newcommand{\marginicon}[1]{%
     \marginpar{
       ~ \\ % NOTHING NEEDED
       \vspace*{-1mm}\\
        \includegraphics[width=\marginparwidth]{#1}
   }%\vspace{-3mm}
  }
% --------------------------------------------------------------------------- % 
  % \reversemarginpar % GLOBAL -> NOW (=BETTER?) DEFINED AT START
    \newcommand{\anchormarginicon}[1]{%
      \marginpar{
        ~ \\ % NOTHING NEEDED
        \vspace*{-1\baselineskip}\\
         \mbox{\hspace{-.5\marginparwidth} %
          \includegraphics[width=1.5\marginparwidth]{#1} %
     }
    }
  }
% --------------------------------------------------------------------------- % 
  % https://tex.stackexchange.com/questions/35933/
  % -> indenting-a-whole-paragraph
  \newcommand\anchorinfo[2]{%

     {\grafikinline{\iconseeinline} % DEFINED FROM MDSH FUNCTIONS
                   {} %
      \hspace{-4.5em}%\symarrowleft
      \raisebox{-.2\baselineskip}
      [\baselineskip][\baselineskip]{ %
     {\footnotesize %
      \hspace{3em} P.\pageref{#2}}}
      \hfill\begin{minipage}{\dimexpr\textwidth-9.5em}%
       \begin{flushleft}
        \hspace{-2.75em}% 
        \symarrowleft%
        \setstretch{0.8}%
        \hspace{2.7em} #1%
        \end{flushleft}
      \end{minipage}\hfill%
      }%
  }
% --------------------------------------------------------------------------- % 
  \newcommand\anchor[3]{%
    \if\relax\detokenize{#3}\relax
    % #3 EMPTY -> DO NOTHING IN PLACE
    \else
    % #3 NON-EMPTY -> CREATE ANCHOR IN PLACE
      \if\relax\detokenize{#1}\relax
      % #1 EMPTY -> INSERT ANCHOR ONLY
      %\anchormarginicon{\iconseemargin} % DEFINED FROM FUNCTIONS
      %\marginpar{\centering\tiny P.\pageref{#2}} % NON-EMPTY
 %     \anchorinfo{}{#2}
      \else
      % #1 NON-EMPTY -> INSERT INFO + ANCHOR
       \anchorinfo{#1}{#2}
      \fi
    \fi
   }
 % ------------------------------------------------------------------------ %
   \newcommand\pageinfo[4]{%
    \if\relax\detokenize{#4}\relax
     % #4 EMPTY -> DO NOTHING
     \else % #4 NON-EMPTY
     \if\relax\detokenize{#3}\relax
      \makebox[\textwidth][l]{%
       \hspace{#1}%
        \parbox{\textwidth}{%
         \vspace*{#2}
          \colorbox{white}{%
          {\footnotesize\parbox{.97\textwidth}{
            \smallskip
             \color{black} #4 %
              \smallskip}
      }}}}
      \fi
     \fi
    }
 % ------------------------------------------------------------------------ %
   \newcommand{\boxinfo}[2]{
       \if\relax\detokenize{#1}\relax
          \colorbox{white}{%
          {\footnotesize\parbox{.97\textwidth}{
            \smallskip
             \color{black} #2 %
              \smallskip}
        }} \fi
   }
% --------------------------------------------------------------------------- %
   % \newcounter{floats}
   % \newcounter{pagenow}
 % ------------------------------------------------------------------------ %
   \newcommand{\imgasap}[5]{
      % ------------------------------------ %
      % INSERT ANCHOR (OPTIONAL)
        \anchor{#5}{#3}{#4}
      % ------------------------------------ %
      % INSERT FULL SIZE IMAGE (+SHIFT) ASAP
       \begin{figure}[p]
      % ---------
        \stepcounter{floats}  % INCREASE COUNTER ..
        \label{FF:\thefloats} % .. TO CREATE A UNIQ LABEL
        \setcounterpageref{pagenow}{FF:\thefloats}
      % PLACE IMAGE ---------
      % https://tex.stackexchange.com/a/44176
        \vspace*{\dimexpr-1in-\topmargin-\headsep-\headheight}%
         \ifodd\value{pagenow}
          \hspace*{\dimexpr-1in-\oddsidemargin-\parindent}%
         \else
            \hspace*{\dimexpr-1in-\evensidemargin-\parindent}%
          \fi
         \makebox[\paperwidth][l]{
         %\setlength{\unitlength}{.95\paperwidth}%
          \setlength{\unitlength}{105mm}%
           \put(-#2,0){%
            \includegraphics[height=\paperheight]{#1}%
            }%
          }%
      % PLACE INFO  -------- 
         \ifodd\value{pagenow} %
          \pageinfo{-.0\textwidth}{-.35\textheight}{#4}{#5}
           \else %
            \pageinfo{-1.25\textwidth}{-.3\textheight}{#4}{#5}
          \fi
      % ---------
        \label{#3}
        \end{figure}
      % ------------------------------------ %
  }
% --------------------------------------------------------------------------- %
  % TODO: SHIFT,
  \newcommand{\imghere}[5]{
   % ------------------------------------ %
   % INSERT ANCHOR (OPTIONAL)
     \anchor{#5}{#3}{#4}
   % ------------------------------------ %
   % INSERT FULL SIZE IMAGE (+SHIFT) HERE/NOW
     \footnoterulefalse
     \includepdf[pagecommand={\thispagestyle{fancy}}%
                 \label{#5}\pdfpagesplusinfo{#4}{#5},%
                 offset=0 0, delta=0 0,
                 scale=1,frame,pages=-,nup=1]{#1}
     \footnoteruletrue
  }
% --------------------------------------------------------------------------- %

  % BESCHRIFTUNG FÜR PDFPAGESPLUS
  % -----------------------------
    \newcommand\pdfpagesplusinfo[2]{
   % RM FOOTNOTE NUMBER
    \deffootnote[1.5em]{1.5em}{1em}{\textsuperscript{}}
      % https://tex.stackexchange.com/questions/53068/
      % -> how-to-check-if-a-macro-value-is-empty
      \if\relax\detokenize{#2}\relax
      % #2 (=SWITCH) EMPTY
      % -> ANCHOR WAS NOT SET
      % -> INSERT TEXT HERE
      \footnotetext{\centering#1}
      \else
      % #2 (=SWITCH) NON-EMPTY
      % -> ANCHOR WAS SET
      % -> DO NOTHING HERE
      \fi
    }

   \newcommand\pdfpagesplus[8]{%
   \if\relax\detokenize{#6}\relax
   % #6 EMPTY -> DO NOTHING IN PLACE
   \else
   % #6 NON-EMPTY -> CREATE ANCHOR IN PLACE
     \marginicon{#7}
     \if\relax\detokenize{#4}\relax
     % #4 EMPTY -> INSERT ANCHOR ONLY
     \marginpar{\tiny p.~\pageref{#5}} % NON-EMPTY
     \else
     % #4 NON-EMPTY -> INSERT INFO + ANCHOR
     {\scriptsize
     #4, see p.~\pageref{#5}} % NON-EMPTY
     \fi
   \fi
   \if\relax\detokenize{#8}\relax
   \afterpage{
   \renewcommand{\footnoterule}{\rule{0pt}{0pt}}
   \includepdf[pagecommand={\thispagestyle{fancy}}%
               \label{#5}\pdfpagesplusinfo{#4}{#6},%
               offset=10 20, delta=5 5,
               scale=.75,frame,pages={#2},nup=#3]{#1}
   }
   \else
   \footnoterulefalse
   \includepdf[pagecommand={\thispagestyle{fancy}}%
               \label{#5}\pdfpagesplusinfo{#4}{#6},%
               offset=10 20, delta=5 5,
               scale=.75,frame,pages={#2},nup=#3]{#1}
   \footnoteruletrue
   \fi
  }

% =========================================================================== %
% --------------------------------------------------------------------------- %
%  MDSH TGSO GUIDE (VERY SPECIFIC)
% --------------------------------------------------------------------------- %
   \newcommand\grouping[3]{%
    \cleartoleftblack
    \pdfpageplus{#1}{#2}{}{#3}
   }
 % ------------------------------------------------------------------------- %
  % FALLBACK (IF NO GRAPHIC EXISTS)
   \newcommand\groupingfallback[1]{ %
    \cleartoleftblack %
    {\thispagestyle{empty} %
      \pagecolor{black} %
       \color{white}\LARGE #1} %
     \cleartoright %
     \nopagecolor
   }

 % ------------------------------------------------------------------------- %
 % \vspace{} IS DELETED AT AT THE TOP OF A PAGE \vspace*{} IS NOT !!
 % \newcommand{\betweendq}{\vspace*{-1\parskip}%
 %                         \vspace*{-2pt}%
 %                         \vspace*{-1\baselineskip}}
 % \newcommand{\betweendq}{} % MADE OBSOLETE BY descriptorquote ENVIRONMENT ?


   \newlength{\abovedescriptor}
   \setlength{\abovedescriptor}{5pt plus 20pt minus 12pt}
   \newcommand{\descriptorskip}{\pagebreak[1]%
                                \vspace{\abovedescriptor}}

   \newcommand{\descriptorlabel}[1]{%
              {\scalefont{.75} %
               \fontfamily{cgt}\selectfont %
               \underline{#1:}\hspace{-.5em}:}\hspace{.25em} %
   }
   \newenvironment{dblock}{\begin{samepage}}
                          {\end{samepage}}

% --------------------------------------------------------------------------- % 
 % ------------------------------------------------------------------------- %
   \newcommand\descriptormethod[3]{%
     ~
     \vfill
      \clearpage

      \pagebreak[2]
       \grafikinline{\iconmethod}{}%
        \vspace*{-3\baselineskip}%  
         \begin{flushleft}
          \begin{spacing}{1.0}
           \scalefont{3}#3
            \end{spacing}%
             \end{flushleft}%
      \vspace{-1.5\abovedescriptor}\vfill
   }
 % ------------------------------------------------------------------------- %
   \newcommand\descriptorhow[3]{%
       \descriptorskip
       \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
         \ifnum\numexpr#2 < 150
          \grafikinline{\iconhowmarginsmall}{}%
         \else
           \ifnum\numexpr#2 < 250
            \grafikinline{\iconhowmarginmedium}{}%
           \else
            \grafikinline{\iconhowmarginlarge}{}%
           \fi
         \fi
       \else % DMODE = 2 = INLINE CONTENT 
         \ifnum\numexpr#1 < 3 % DMODE = 2 = INLINE CONTENT
           \ifnum\numexpr#2 < 50 % NOT MUCH
           \begin{flushleft}
           \grafikinline{\iconhowinline}{}%
           \hspace{.2em} %
           \descriptorlabel{HOW} %
             {\hspace{-.5em}#3}\end{flushleft} %
           \else % MORE
           \grafikinline{\iconhowinline}{}%
           \hspace{.2em} %
           \descriptorlabel{HOW} %
             {\hspace{-.5em}#3}\end{flushleft} %
           \fi
          \else
          \begin{flushleft}
          \grafikinline{\iconhowinline}{} %
          \hspace{.2em} %
          \descriptorlabel{HOW} %
            {\hspace{-.5em}#3}\end{flushleft} %
          \fi
       \fi
   }
 % ------------------------------------------------------------------------- %
   \newcommand\descriptorexample[3]{%
     %\descriptorskip
      \pagebreak[2]
       \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
         \ifnum\numexpr#2 < 150
          \grafikinline{\iconexamplemargin}{}%
         \else
           \ifnum\numexpr#2 < 250
            \grafikinline{\iconexamplemargin}{}%
           \else
            \grafikinline{\iconexamplemargin}{}%
           \fi
         \fi
       \else % DMODE = 2 = INLINE CONTENT 
         \ifnum\numexpr#1 < 3 % DMODE = 2 = INLINE CONTENT
           \ifnum\numexpr#2 < 50 % NOT MUCH
           \begin{flushleft}
           \grafikinline{\iconexampleinline}{\hspace{.3em}}%
           \descriptorlabel{EXAMPLE} %
              \hspace{-.4em}#3\end{flushleft} %
           \vspace*{-.2\medskipamount}
           \else % MORE
           \begin{flushleft}
          \grafikinline{\iconexampleinline}{\hspace{.3em}}%
          \descriptorlabel{EXAMPLE} %
             \hspace{-.4em}{#3}\end{flushleft} %
           \vspace*{-.2\medskipamount}
           \fi
          \else
          \begin{flushleft}
          \grafikinline{\iconexampleinline}{\hspace{.3em}}%
          \descriptorlabel{EXAMPLE} %
             \hspace{-.4em}{#3}\end{flushleft} %
          \fi
       \fi
   }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorwhat[3]{%
    \descriptorskip
    \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
      \ifnum\numexpr#2 < 150
       \grafikinline{\iconwhatmargin}{}%
      \else
        \ifnum\numexpr#2 < 250
         \grafikinline{\iconwhatmargin}{}%
        \else
         \grafikinline{\iconwhatmargin}{}%
        \fi
      \fi
    \else % DMODE = 2 = INLINE CONTENT 
      \ifnum\numexpr#2 < 50 % NOT MUCH
      \begin{flushleft}
      \grafikinline{\iconwhatinline}{\hspace{.5em}}%
      \descriptorlabel{WHAT}{#3}\hspace{-.5em}\end{flushleft} %
      \else % MORE
      \begin{flushleft}
      \grafikinline{\iconwhatinline}{\hspace{.3em}}%
      \descriptorlabel{WHAT}{#3}\hspace{-.5em}\end{flushleft} %
      \fi
    \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorwho[3]{%
    \descriptorskip
    \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
       \grafikinline{\iconwhomargin}{}%
    \else % DMODE = 2 = INLINE CONTENT 
      \begin{flushleft}
      \grafikinline{\iconwhoinline}{}%
      \descriptorlabel{WHO} %
        {\hspace{-.3em}#3}\end{flushleft} %
    \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorwhy[3]{%
    \descriptorskip
    \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
       \grafikinline{\iconwhyinline}{}%
    \else % DMODE = 2 = INLINE CONTENT 
      \begin{flushleft}
      \grafikinline{\iconwhyinline}{}%
      \descriptorlabel{WHY} %
        {\hspace{-.3em}#3}\end{flushleft} %
    \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorwhen[3]{%
    \descriptorskip
    \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
       \grafikinline{\iconwhyinline}{}%           
    \else % DMODE = 2 = INLINE CONTENT 
      \begin{flushleft}
      \grafikinline{\iconwhyinline}{}%
      \descriptorlabel{WHEN} %
        {\hspace{-.3em}#3}\end{flushleft} %
    \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorabout[3]{%
    \descriptorskip
    \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
       \grafikinline{\iconwhyinline}{}%           
    \else % DMODE = 2 = INLINE CONTENT 
      \begin{flushleft}
      \grafikinline{\iconwhyinline}{}%
      \descriptorlabel{ABOUT} %
        {\hspace{-.3em}#3}\end{flushleft} %
    \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorremember[3]{%
   \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
    \vfill
     \grafikinline{\iconremembernobox}{\hspace{1.6em}}%
     \hspace{-1em}
     \makebox[\textwidth][s]{\scalefont{2.2}%
     \fontfamily{vpi}\selectfont R E M E M B E R}%
     \bigskip\medskip
    %\vfill
   \else
     \begin{framed}
      \hspace{-1.5em}%
       \grafikinline{\iconrememberbox}{\hspace{1.6em}}%
       \makebox[\textwidth][s]{\scalefont{2}%
        \fontfamily{vpi}\selectfont R E M E M B E R}%
         \vspace{\smallskipamount}%
          \hspace{-.5em}#3%
           \vspace{\bigskipamount}%
        \end{framed}
   \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorurgency[3]{%
    \descriptorskip
    \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
       \grafikinline{\iconurgencymargin}{}%
    \else % DMODE = 2 = INLINE CONTENT 
      \begin{flushleft}
      \grafikinline{\iconurgencyinline}{}%
      \descriptorlabel{URGENCY} \hspace{-.5em}#3
                    \end{flushleft} %
    \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptornote[3]{%
   \descriptorskip
   \grafikinline{\iconnote}{}%
   \hspace{-.07em}\descriptorlabel{NOTE}
   \hspace{-1.2em} #3 %
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorwarning[3]{%
   \ifnum\numexpr#1 < 2 % DMODE = 1 = NO INLINE CONTENT
    \grafikinline{\iconwarninginline}{\hspace{.5em}}%
   \else
    \vfill
     \descriptorskip
      \medskip
       \begin{framed}
        \hspace{-1.5em}%
         \grafikinline{\iconwarningmargin}{\hspace{1.5em}}%
          \descriptorlabel{WARNING}%
           \hspace{-.5em} #3 %
            \smallskip
        \end{framed}
        \medskip\vfill
   \fi
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorrelates[3]{%
   \begin{flushleft}
   \grafikinline{\iconrelatepages} %
                {\hspace{0em}} %
   \raisebox{-1.7\baselineskip}[\baselineskip][\baselineskip]{ %
   \hspace{-2.5em} %
    \mbox{{\footnotesize %
           \symarrowright\hspace{2em} %
           \underline{P.\pageref{#1}}} %
    }} %
   \hspace{-.6em}\vspace*{-.8\baselineskip}
   \descriptorlabel{SEE ALSO}\hspace{-.4em}
   \ifnum\numexpr#2 < 75 % CHARS FIT ONE LINE
     \\\hspace{.2em}#3   
   \else
     #3
   \fi
   \end{flushleft}
  }

% ------------------------------------------------------------------------- %
  \newcommand\descriptorsource[3]{%
    \vfill
     \descriptorskip
      \begin{framed}%
       \bodytextfalse\footnotetrue%
        \vspace*{-1.5em}\hspace{-1.5em}%
         \grafikinline{\iconsource}{\hspace{1.8em}}%
         {\small#3} %
           \smallskip %
        \end{framed}
    \medskip\vfill
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorbox[3]{%
   \begin{framed}
    #3
     \medskip
      ~
      \vfill
   \end{framed}
  }
% ------------------------------------------------------------------------- %
  \newcommand\descriptorlarge[3]{%
   \begin{spacing}{1.2}
   \large #3
   \end{spacing}
  }
% ------------------------------------------------------------------------- %
   \newcommand\carlinsays[1]{ %
   {\color{yellow}+} %
    \pdfmargincomment{#1} %
   }
% ------------------------------------------------------------------------- %


